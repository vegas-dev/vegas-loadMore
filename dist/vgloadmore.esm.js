// @vegas-VGLoadMore v1.0.6
class t{constructor(t,e,n){this.btn=t||void 0,this.settings=s({params:this.btn.dataset.params||{},route:this.btn.dataset.route||"",offset:parseInt(this.btn.dataset.offset)||0,limit:parseInt(this.btn.dataset.limit)||12},e),this.fOffset=this.settings.offset,this.btn&&this.settings.route?this.click(this.btn,n):console.error("Initialization failed")}click(t,s){const e=this;t.onclick=function(n){let i=t.innerText;return s&&"onClick"in s&&"function"==typeof s.onClick&&s.onClick(e,n),e.run(i,s),!1}}run(t,s){const e=this;let n=e.settings.limit,i=e.settings.offset,o=new XMLHttpRequest,r=e.settings.route+"?limit="+n+"&offset="+i;o.open("GET",r,!0),o.onreadystatechange=function(){4===this.readyState&&200===this.status&&(e.settings.offset=e.fOffset+e.settings.offset,e.btn.innerText=t,s&&"onLoad"in s&&"function"==typeof s.onLoad&&s.onLoad(e,this.responseText))},o.send()}}function s(...t){const e=t=>t&&"object"==typeof t;return t.reduce(((t,n)=>(Object.keys(n).forEach((i=>{const o=t[i],r=n[i];Array.isArray(o)&&Array.isArray(r)?t[i]=o.concat(...r):e(o)&&e(r)?t[i]=s(o,r):t[i]=r})),t)),{})}export{t as VGLoadMore};
